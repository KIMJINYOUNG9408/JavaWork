<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>jQuery + AJAX</title>
<style>
table,th,td {
  border : 1px solid black;
  border-collapse: collapse;
}
th,td {
  padding: 5px;
}

talbe {
	width:300px
}

#a{
width: 15%;
}

#b{
width: 20%;
}

#d{
width: 15%;
}

#d{
width: 50%;
}

</style>
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<body>
<h3>$.ajax() : 서울시 지하철 승하차 인원 정보</h3>
<form>
날짜 (yyyyMMdd): <input type="text" name="date" id="date" value="20181001"/><br><br>

<button id="btn_load" type="button">승하차정보 가져오기</button>
<button id="btn_remove" type="button">지우기</button>
</form>
<br><br>
<h2>AJAX + XML</h2>

<hr>
<h2>AJAX + JSON</h2>
<table id="demoJSON"></table>

<script>


 
 $(document).ready(function(){
		 
		// JSON
		url = "test.json"
		$.ajax({
			url : url, 
			type : "GET",
			cache : false,
			success : function(data, status){
				if(status == "success") parseJSON(data);
			}
		});		
	 
 });
 


function parseJSON(jsonObj) {
	var row = jsonObj.a.row;
	
	var word = new Array();

	var table = "<tr><th>호선</th><th>역명</th><th>승차인원</th><th>하차인원</th></tr>";
	for (i = 0; i < row.length; i++) {
		 
		word[i] = row[i].one + row[i].two
		table += "<tr>"; 
		table += "<td id='a'>" +"야"+ row[i].one +"야"+ "</td>";
		table += "<td id='b'>" + row[i].two + "</td>";
		table += "<td id='c'>" + row[i].three + "</td>";
		table += "<td id='d'>" + word[i] + "</td>";
		table += "</tr>"; 
	}

	
	$("#demoJSON").html(table);
}
</script>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>

















